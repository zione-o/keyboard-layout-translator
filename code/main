import tkinter as tk
from tkinter import scrolledtext
from layout import KEYBOARD_MAP


def translate_text(text: str, mapping: dict) -> str:
    return ''.join(mapping.get(char, char) for char in text)


def handle_translate():
    source_text = input_text.get("1.0", tk.END)
    translated = translate_text(source_text, KEYBOARD_MAP)

    output_text.delete("1.0", tk.END)
    output_text.insert(tk.END, translated)


root = tk.Tk()
root.title("Keyboard Layout Translator")
root.resizable(False, False)

tk.Label(root, text="Input Text").pack(pady=(10, 0))
input_text = scrolledtext.ScrolledText(root, width=45, height=10)
input_text.pack(padx=10, pady=5)

tk.Button(root, text="Translate", command=handle_translate).pack(pady=5)

tk.Label(root, text="Output Text").pack(pady=(10, 0))
output_text = scrolledtext.ScrolledText(root, width=45, height=10)
output_text.pack(padx=10, pady=(5, 10))

root.mainloop()
